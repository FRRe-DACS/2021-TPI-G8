(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{41:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(33),c=n.n(s),r=n(14),i=n(4),o=n(5),l=n(13),d=n(12),h=(n(41),n(17)),j=n.n(h),u=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(e,t){return j.a.post("http://localhost:8000/api/auth/signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),b=n(2),m=n(10),O=j.a.create({baseURL:"http://localhost:8000",headers:{"Content-type":"application/json"}}),f=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"findAll",value:function(){return O.get("/getProductos")}}]),e}()),p=n(0),v=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).retrieveProductos=a.retrieveProductos.bind(Object(m.a)(a)),a.refreshList=a.refreshList.bind(Object(m.a)(a)),a.state={productos:[],currentProducto:null,currentIndex:-1,searchTitle:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.retrieveProductos()}},{key:"retrieveProductos",value:function(){var e=this;f.findAll().then((function(t){e.setState({productos:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveProductos(),this.setState({currentProducto:null,currentIndex:-1})}},{key:"render",value:function(){var e=this.state,t=e.productos;e.currentIndex;return Object(p.jsx)("main",{children:Object(p.jsxs)("form",{children:[Object(p.jsx)("legend",{children:"Declaraci\xf3n Jurada"}),Object(p.jsx)("div",{class:"mb-3",children:Object(p.jsx)("label",{for:"disabledTextInput",class:"form-label",children:"CUIT: 23-42450167-5"})}),Object(p.jsx)("table",{class:"table table-stripped table-bordered table-sm",children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Nombre Producto"}),Object(p.jsx)("td",{children:"EAN"}),Object(p.jsx)("td",{children:"Precio Unitario"}),Object(p.jsx)("td",{children:"Cantidad Producida"}),Object(p.jsx)("td",{children:"Cantidad Vendida"})]}),t&&t.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.nombre}),Object(p.jsx)("td",{children:e.EAN}),Object(p.jsxs)("td",{children:["$",e.precioKG]}),Object(p.jsx)("td",{children:e.cantidadP}),Object(p.jsx)("td",{children:e.cantidadV})]})}))]})}),Object(p.jsx)("div",{class:"mb-3",children:Object(p.jsxs)("div",{class:"form-check",children:[Object(p.jsx)("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"}),Object(p.jsx)("label",{class:"form-check-label",for:"flexCheckDefault",children:"JURO QUE ESTOS DATOS SON CORRECTOS"})]})}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Enviar Declaracion"})]})})}}]),n}(a.Component),x=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getNotificacion",value:function(){return O.get("/getNotificacion")}}]),e}()),g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).retrieveNotificaciones=a.retrieveNotificaciones.bind(Object(m.a)(a)),a.state={notificaciones:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.retrieveNotificaciones()}},{key:"retrieveNotificaciones",value:function(){var e=this;x.getNotificacion().then((function(t){e.setState({notificaciones:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.notificaciones;return Object(p.jsxs)("main",{children:[Object(p.jsxs)("div",{class:"alert alert-warning alert-dismissible fade show",role:"alert",children:[Object(p.jsx)("strong",{children:"\xa1Fecha l\xedmite cerca!"}),e&&e.map((function(e){return{notificacion:e}})),Object(p.jsx)("button",{type:"button",class:"close","data-bs-dismiss":"alert","aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsx)("main",{role:"main",class:"inner cover",id:"central",children:Object(p.jsxs)("main",{children:[Object(p.jsx)("h1",{class:"cover-heading",children:"Una empresa que vende ripio."}),Object(p.jsx)("p",{class:"lead",children:"Vendemos un par de cosas mas, pero tambien tenemos ripio."})]})})]})}}]),n}(a.Component),k=n(34),y=n.n(k),w=n(20),N=n.n(w),C=n(35),S=n.n(C),P=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleLogin=a.handleLogin.bind(Object(m.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(m.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(m.a)(a)),a.state={username:"",password:"",loading:!1,message:""},a}return Object(o.a)(n,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?u.login(this.state.username,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:n})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t={color:"black"};return Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsxs)("div",{className:"card card-container",children:[Object(p.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(p.jsxs)(y.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{style:t,htmlFor:"username",children:"Nombre de usuario"}),Object(p.jsx)(N.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{style:t,htmlFor:"password",children:"Contrase\xf1a"}),Object(p.jsx)(N.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("button",{className:"btn btn-primary btn-block",disabled:this.state.loading,children:[this.state.loading&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(p.jsx)("span",{children:"Iniciar sesion"})]})}),this.state.message&&Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(p.jsx)(S.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),n}(a.Component),U=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={showServicios:!1,showPrincipal:!1},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){u.getCurrentUser()}},{key:"if",value:function(e){this.setState({showServicios:e,showPrincipal:e})}},{key:"render",value:function(){var e=this.state,t=e.showPrincipal,n=e.showServicios;return Object(p.jsx)("div",{class:"text-center",children:Object(p.jsxs)("div",{class:"cover-container d-flex h-100 p-3 mx flex-column",children:[Object(p.jsx)("header",{class:"masthead mb",children:Object(p.jsxs)("div",{class:"inner",children:[Object(p.jsx)("h4",{class:"masthead-brand ",children:Object(p.jsx)("a",{href:"/principal",className:"navbar-brand",children:"Corralon Nak"})}),Object(p.jsxs)("nav",{class:"nav nav-masthead justify-content-center",children:[t&&Object(p.jsx)("a",{class:"nav-link active",children:Object(p.jsx)(r.b,{to:"/principal",children:"Principal"})}),n&&Object(p.jsx)("a",{class:"nav-link active",children:Object(p.jsx)(r.b,{to:"/servicios",children:"Servicios"})})]})]})}),Object(p.jsx)("div",{className:"container mt-3",children:Object(p.jsxs)(b.c,{children:[Object(p.jsx)(b.a,{exact:!0,path:["/servicios"],component:v}),Object(p.jsx)(b.a,{exact:!0,path:["/principal"],component:g}),Object(p.jsx)(b.a,{exact:!0,path:["/","/login"],component:P})]})})]})})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(p.jsx)(r.a,{children:Object(p.jsx)(U,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.544c89c4.chunk.js.map